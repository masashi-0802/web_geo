<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>GeoGuessr世界攻略!（完全版）</title>
  <!-- 共通スタイル -->
  <link rel="stylesheet" href="style.css">
  <!-- クイズ用の軽量スタイル（既存の quiz.css を使用） -->
  <link rel="stylesheet" href="quiz.css">
</head>
<body>
  <header>
    <h1>GeoGuessr世界攻略!（完全版）</h1>
  </header>
  <nav class="global-nav">
    <ul>
      <li><a href="countries.html">国別メタ</a></li>
      <li><a href="roadmap.html">初心者用世界マップ攻略方法</a></li>
      <li><a href="community.html">GeoGuessrコミュニティ</a></li>
    </ul>
  </nav>
  <main>
    <section class="profile">
      <h2>このサイトの作成者は誰？？</h2>
      <p>初めまして!
        <br>このWebサイトを執筆した「ただのちゃる」です。
        <br>筆者は、GeoGuessrを2024年4月から世界マップを本格的に始め、Geoguessr歴はちょうど1年ちょいです！
        <br>私は、Geoguessrの世界マップをプレイする日本人の方が少ない、、という現状を少しでも改善したく、このようなGeoguessr世界マップ攻略サイトを立ち上げました!
        <br>Webサイトは順次更新予定ですので、何かアドバイスや意見などありましたらどしどしコメントしてください！お待ちしてます！
      </p>
    </section>

    <section class="hint">
      <h2>🧠 今日のGeoGuessr攻略ヒント</h2>
      <!-- 画像（Street View埋め込み） -->
      <div class="sv-wrap">
        <iframe id="hint-frame"
                title="ヒント用ストリートビュー"
                allowfullscreen
                loading="lazy"
                referrerpolicy="no-referrer-when-downgrade"
                src="">
        </iframe>
      </div>
      <!-- この画像から読み取れるヒント -->
      <ul id="hint-list"></ul>
    </section>

    <section class="links">
      <h2>📌 リンク</h2>
      <ul>
        <li><a href="quiz.html">今日の一問（単独ページ版）</a></li>
        <li><a href="countries.html">国別メタ（後日作成予定）</a></li>
        <li><a href="community.html">コミュニティ・大会（後日作成予定）</a></li>
      </ul>
    </section>

    <!-- =================== ホーム最下部：今日の一問 =================== -->
    <section class="daily-quiz">
      <div class="container">
        <h2>🧩 今日の一問</h2>
        <p>次のストリートビューはどこの国でしょう？</p>
        <div class="sv-wrap">
          <iframe id="sv-frame"
                  allowfullscreen
                  loading="lazy"
                  referrerpolicy="no-referrer-when-downgrade"
                  src="">
          </iframe>
          <div class="sv-mask sv-mask-tl"></div> <!-- これを追加 -->
        </div>
        <div id="choices" class="choices" role="group" aria-label="選択肢"></div>
        <div id="result" class="result" aria-live="polite"></div>
        <div id="explanation" class="explanation"></div>
        <div class="actions">
          <button id="next-btn" style="display:none;">次の問題へ</button>
        </div>
      </div>
    </section>

    <!-- 筆者プロフィールカード -->
    <section class="author-profile">
      <img src="images/profile_icon.png" alt="プロフィールアイコン" width="64" height="64">
      <div>
        <div class="author-name">ただのちゃる</div>
        <div class="author-desc">GeoGuessr歴1年。世界マップを日本語で攻略・紹介しています。</div>
        <div class="author-sns"><a href="#">X (Twitter)</a></div>
      </div>
    </section>
  </main>

  <footer>
    <small>© 2025 ただのちゃる。地図画像・データは各提供元に帰属。</small>
  </footer>

  <!-- ページ専用スクリプト（ヒント） -->
  <script>
    const HINTS = [
      "黄の中央線＋白の路肩線の組み合わせに注目する。",
      "ボラード（路肩ポール）の配色は国の個性が強い。",
      "看板裏の支柱形状やボルト位置もメタ。",
      "標識フォントの丸み/角張り/字間に注意。",
      "電線の数と張り方、碍子の形もヒント。",
    ];
    const hintBtn = document.getElementById('hint-btn');
    const hintBox = document.getElementById('hint-box');
    if (hintBtn) {
      hintBtn.addEventListener('click', () => {
        const i = Math.floor(Math.random() * HINTS.length);
        hintBox.textContent = HINTS[i];
        hintBox.style.display = 'block';
      });
    }
  </script>
  <!-- ページ専用スクリプト（ヒント：画像＋箇条書き） -->
  <script>
    // 画像1枚＋その画像に紐づくヒント（必要に応じて日替わり化もOK）
    const HINT_OF_DAY = {
      // 例：あなたが動作確認できた埋め込みURLを置く
      src: "https://www.google.com/maps/embed?pb=!4v1754752685624!6m8!1m7!1soKQo8salQ_Ec6tLZ5eRqfg!2m2!1d42.8538655940137!2d68.30586004515008!3f123.91430334236529!4f4.975812798452466!5f0.4494136891971475",
      hints: [
        "路肩の舗装と砂利の出方：乾燥地帯の典型。",
        "電柱・標識の形状：角ばった桁とボルト位置に注目。",
        "中央線が黄・路肩線が白：中アジアの定番パターン。",
        "地平線までの見通し：ゆるい起伏の草原地形。"
      ]
    };
    function renderHint() {
      const iframe = document.getElementById('hint-frame');
      const list   = document.getElementById('hint-list');
      if (!iframe || !list) return;
      iframe.src = HINT_OF_DAY.src;
      list.innerHTML = "";
      HINT_OF_DAY.hints.forEach(t => {
        const li = document.createElement('li');
        li.textContent = t;
        list.appendChild(li);
      });
    }
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', renderHint);
    } else {
      renderHint();
    }
  </script>
  <!-- クイズ本体（ホーム最下部のDOMに対して動作） -->
  <script src="quiz.js"></script>
</body>
</html>
